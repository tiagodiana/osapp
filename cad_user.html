<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Tiago R. Diana">
    <meta name="description" content="Ordem de Serviço">
    <meta name="copyright" content="© 2019 Tiago Roberto Diana" />

    <title>Ordem de Serviço</title>
    <link rel="shortcut icon" href="image/logo-icone.png">

    <link rel="stylesheet" type="text/css" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/menu.css">
    <link rel="stylesheet" type="text/css" href="assets/css/main.css">
    <script src="assets/js/jquery.js"></script>
	<script src="assets/bootstrap/js/bootstrap.min.js"></script>
	<script src="assets/js/menu.js"></script>
	<!-- CODELAB: Add link rel manifest -->
    <link rel="manifest" href="manifest.json">
    <!-- CODELAB: Add meta theme-color -->
    <meta name="theme-color" content="#222222" />
    <script src="app.js"></script>
    <script>

		//Codigo AJAX para cadastro de usuario
    	$(document).ready(function(){
    		$('button[name=salvar]').click(function(){
    			var nome = $('#nome').val()
    			var cpf = $('#cpf').val()
    			var telefone = $('#telefone').val()
    			var celular = $('#celular').val()
    			var rua = $('#rua').val()
    			var bairro = $('#bairro').val()
    			var cidade = $('#cidade').val()
    			var estado = $('#estado').val()
    			var cep = $('#cep').val()
    			$.ajax({
    				url:"http://localhost/osapp/server/webservice.php",
    				method:"post",
    				data:{
    					'tipo':'inserir',
    					'nome':nome,
    					'cpf':cpf,
    					'telefone':telefone,
    					'celular':celular,
    					'rua':rua,
    					'bairro':bairro,
    					'cidade':cidade,
    					'estado':estado,
    					'cep':cep
    				},
    				success: function(retorno){
                        limparCampos()
    					$('#sucesso').slideDown()
                            setTimeout(function(){
                                $('#sucesso').slideUp()
                            },1500)
    				},
    				timeout:3000,
    				error: function(){
    					$('#erro').slideDown()
                            setTimeout(function(){
                                $('#erro').slideUp()
                            },1500)
    				}
    			})
    		})

    	})
        function limparCampos(){
            $('#nome').val("")
            $('#cpf').val("")
            $('#telefone').val("")
            $('#celular').val("")
            $('#rua').val("")
            $('#bairro').val("")
            $('#cidade').val("")
            $('#cep').val("")
        }
    </script>
</head>
<body>
<main>
<!-- MENU MOBILE -->
<input type="checkbox" id="checkmenu">
<label for="checkmenu" id="icone-mobile"><img src="image/icone.png" width="45px"></label>
<header>
    <!-- MENU DESKTOP -->
    <nav class="desktop">
        <ul class="ul-desktop">
            <div id="menu-mobile">
            <a href="index.html" class="a-desktop"><li class="li-desktop">Inicio</li></a>
            <a href="cad_user.html" class="a-desktop"><li class="li-desktop">Cadastro Cliente</li></a>
            <a href="busca_user.html" class="a-desktop"><li class="li-desktop">Buscar Cliente</li></a>
            <a href="nova_os.html" class="a-desktop"><li class="li-desktop">Nova OS</li></a>
            <a href="busca_os.html" class="a-desktop"><li class="li-desktop">Buscar OS</li></a>
            <a href="contato.html" class="a-desktop"><li class="li-desktop">Contato</li></a>
            </div>
        </ul>
    </nav>
    <!-- FIM MENU DESKTOP -->
</header>



<!-- CORPO DO SITE -->
<div class="mt-5 col-md-8 col-12 mx-auto border py-4 bg-light font-arial logo">
	<h2 class="py-2 mx-auto bg-light text-center">Cadastro de Cliente</h2>

    <!-- ALERT CLIENTE CADASTRADO -->
    <div class="alert alert-success text-center" id="sucesso" style="display: none;">
        <h4>Cliente Cadastrado</h4>
    </div>
    <!-- ALERT ERRO NA REQUISIÇÃO -->
    <div class="alert alert-danger text-center" id="erro" style="display: none;">
        <h4>ERRO com o Servidor</h4>
    </div>
	<div class="form-row">
		<div class="form-group col-6">
			<label for="nome">Nome Completo</label>
			<input class="form-control" type="text" id="nome" placeholder="Nome Completo" required>
		</div>
		<div class="form-group col-6">
			<label for="cpf">CPF</label>
			<input class="form-control" type="text" id="cpf" placeholder="CPF do cliente" required>
		</div>
	</div>

    <div class="form-row">
        <div class="form-group col-6">
            <label for="telefone">Telefone</label>
            <input class="form-control" type="text" id="telefone" placeholder="Telefone">
        </div>
        <div class="form-group col-6">
            <label for="celular">Celular</label>
            <input class="form-control" type="text" id="celular" placeholder="Celular" required>
        </div>
    </div>
		
	<div class="form-row">
		<div class="form-group col-8">
			<label for="rua">Rua</label>
			<input class="form-control" type="text" id="rua" required>
		</div>
		<div class="form-group col-4">
			<label for="bairro">Bairro</label>
			<input class="form-control" type="text" id="bairro" required>
		</div>		
	</div>

	<div class="form-row">
		<div class="form-group col-6">
			<label for="cidade">Cidade</label>
			<input type="text"  id="cidade" class="form-control" required>
		</div>
		
		<div class="form-group col-2">
			<label for="estado">Estado</label>
			<select class="custom-select" id="estado" required>
				<option value="SP">SP</option>
				
			</select>
		</div>

		<div class="form-group col-4">
			<label for="cep">CEP</label>
			<input type="text" id="cep" class="form-control">
		</div>
	</div>

	<div class="text-center my-3">
		<button class="btn btn-lg btn-primary" name="salvar">Cadastrar</button>
	</div>
</div>




<!--FIM DO CORPO DA APLICAÇÃO-->

<!--Rodapé Aplicação -->
<footer class="footer-bg ">
    <h6 class="footer-font">© 2019 Copyright: Tiago Roberto Diana</h6>
</footer>
</main>
</body>
</html>